var ProjectAether;(function(n){(function(t){var i=function(){function t(t){this.game=t,this.targetTypes=[n.TargetTypes.Card,n.TargetTypes.Creature,n.TargetTypes.Button]}return t.prototype.getTargetAction=function(t){if(t instanceof n.CardBase)return this._canPlayCard(t)?n.TargetActions.Place:n.TargetActions.None;if(t instanceof n.Space&&(t=t.value()),t instanceof n.Creature)return this._canMoveCreature(t)?n.TargetActions.Select:n.TargetActions.None;if(t instanceof n.Button)return t instanceof n.EndTurnButton?n.TargetActions.Button:n.TargetActions.None;throw new n.NotImplementedError;},t.prototype.perform=function(t){if(t instanceof n.CardBase)return this._playCard(t);if(t instanceof n.Space&&(t=t.value()),t instanceof n.Creature)return this._moveCreature(t);if(t instanceof n.EndTurnButton)return this.game.endTurn(),null;throw new n.NotImplementedError;},t.prototype.performMulti=function(){throw Error("Cannot target multiple spaces");},t.prototype._canPlayCard=function(n){var t=this.game.currentPlayer(),i=this._getCardAction(n);return t.isHoldingCard(n)&&t.canPayCost(n.cost)&&this.game.hasValidNonButtonTargets(i)},t.prototype._playCard=function(n){var t=this._getCardAction(n);return n.isSelected(!0),t},t.prototype._canMoveCreature=function(t){var i=this.game.currentPlayer(),r=new n.Actions.CreatureAction(this.game.board,t);return t.controller()===i&&this.game.hasValidNonButtonTargets(r)},t.prototype._moveCreature=function(t){var r=this.game.currentPlayer(),i=new n.Actions.CreatureAction(this.game.board,t);return t.isSelected(!0),i},t.prototype._getCardAction=function(t){var i=this.game.currentPlayer();if(t instanceof n.CreatureCard)return new n.Actions.PlayCreatureAction(i,t);throw new n.NotImplementedError;},t}();t.MainPhase=i})(n.Actions||(n.Actions={}));var t=n.Actions})(ProjectAether||(ProjectAether={}))