var ProjectAether;(function(n){(function(t){var i=function(){function t(t,i){this.board=t,this.creature=i,this.targetTypes=[n.TargetTypes.Space,n.TargetTypes.Button,n.TargetTypes.Creature]}return t.prototype.getTargetAction=function(t){if(t instanceof n.Space){var i=t;return this.board.findEmptySquaresWithinXSteps(this.creature.location(),this.creature.movement.current()).contains(i)?n.TargetActions.Move:n.TargetActions.None}if(t instanceof n.Creature)return this._canAttack(t)?n.TargetActions.Attack:n.TargetActions.None;if(t instanceof n.Button)return t instanceof n.CancelButton?n.TargetActions.Button:n.TargetActions.None;throw new n.NotImplementedError;},t.prototype.perform=function(t){var i,r;if(t instanceof n.CancelButton)return null;if(t instanceof n.Space)return i=t,this.creature.move(i,this.board.getDistance(this.creature,i)),this.creature.isSelected(!1),null;if(t instanceof n.Creature)r=t,this.creature.attack(r);else throw Error("Invalid target");},t.prototype.performMulti=function(){throw Error("Cannot target multiple spaces");},t.prototype._canAttack=function(n){return n?this.creature.canAttack()&&this.board.spacesAreAdjacent(this.creature.location(),n.location()):this.creature.canAttack()},t}();t.CreatureAction=i})(n.Actions||(n.Actions={}));var t=n.Actions})(ProjectAether||(ProjectAether={}))